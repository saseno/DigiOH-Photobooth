<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="viewport" content="width=device-width" />
	<title>DigiOH AI Photobox</title>
	<style type="text/css">
		body {
			font-family: Helvetica, sans-serif;
		}

		h2,
		h3 {
			margin-top: 0;
		}

		h1 {
			text-align: center;
		}

		.imageViewer {
			margin-left: auto;
			margin-right: auto;
			display: block;
			width: fit-content;
		}

		.aiStyles {
			margin-left: auto;
			margin-right: auto;
			display: block;
			width: fit-content;
		}

		#spinner {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			background: rgba(255, 255, 255, 0.7);
			z-index: 9999;
			display: flex;
			justify-content: center;
			align-items: center;
			text-align: center;
		}
		#qrcode_viewer {
			position: fixed;
			right: 2em;
			bottom: 2em;
			z-index: 10001;
			background: #fff;
			border-radius: 10px;
			box-shadow: 0 2px 8px rgba(0,0,0,0.15);
			padding: 1em;
			min-width: 120px;
			min-height: 120px;
			display: none;
			align-items: center;
			justify-content: center;
		}
		.aiStyles button img {
			transition: transform 0.2s;
		}

		.aiStyles button:hover img {
			transform: scale(1.45);
		}
	</style>
</head>

<body>
	<h1>DigiOH Photobox</h1>

	<div id="backButton" style="display:none; margin-left: auto; margin-right: auto;width: fit-content;">
		<button id="backButtonId" type="button" style="margin-bottom:2em;">Back</button>
		<br />
	</div>
	<div id="results" class="imageViewer"></div>
	<div id="qrcode_viewer"></div>
	<div id="my_camera" class="imageViewer"></div>

	<br />
	<!-- A button for taking snaps -->
	 <div class="aiStyles" style="display: flex; gap: 0.2em; justify-content: center;">
		<button id="create_avatar" style="background: none; border: none; cursor: pointer;">
			<img src="https://wsaseno.de/digiOH_files/sample_photos/cartoon02.jpg" alt="Create Avatar" style="width:64px; height:64px;" />
			<div style="font-size:0.9em;">Create Avatar</div>
		</button>
		<button id="create_avatar2" style="background: none; border: none; cursor: pointer;">
			<img src="https://wsaseno.de/digiOH_files/sample_photos/avatar03.jpg" alt="Create Avatar2" style="width:64px; height:64px;" />
			<div style="font-size:0.9em;">Create Avatar</div>
		</button>
		<button id="create_cartoon" style="background: none; border: none; cursor: pointer;">
			<img src="https://wsaseno.de/digiOH_files/sample_photos/cartoon01.png" alt="Create Cartoon" style="width:64px; height:64px;" />
			<div style="font-size:0.9em;">Create Cartoon</div>
		</button>
		<button id="outfit" style="background: none; border: none; cursor: pointer;">
			<img src="https://wsaseno.de/digiOH_files/sample_photos/colosseum.jpeg" alt="Face Swap" style="width:64px; height:64px;" />
			<div style="font-size:0.9em;">Change Outfit</div>
		</button>
		<button id="background_generator" style="background: none; border: none; cursor: pointer;">
			<img src="https://wsaseno.de/digiOH_files/sample_photos/colosseum.jpeg" alt="Face Swap" style="width:64px; height:64px;" />
			<div style="font-size:0.9em;">Change Background</div>
		</button>
		<button id="face_swap" style="background: none; border: none; cursor: pointer;">
			<img src="https://wsaseno.de/digiOH_files/sample_photos/president.jpg" alt="Face Swap" style="width:64px; height:64px;" />
			<div style="font-size:0.9em;">Face Swap</div>
		</button>
	</div>
	
		<div id="countdown" style="
			display:none;
			position:fixed;
			top:50%; left:50%;
			transform:translate(-50%,-50%);
			font-size:20em;
			font-weight:bold;
			color:#0078d7;
			z-index:10002;
			background:rgba(255,255,255,0.8);
			padding:0.5em 1em;
			border-radius:20px;
			text-align:center;">
		</div>

		<!-- JavaScript Library -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		<script type="text/javascript" src="./webcam.js"></script>

		<!-- Configure a few settings and attach camera -->
		<script language="JavaScript">
			var ResolutionsToCheck = [
				{ width: 160, height: 120 },
				{ width: 320, height: 180 },
				{ width: 320, height: 240 },
				{ width: 640, height: 360 },
				{ width: 640, height: 480 },
				{ width: 768, height: 576 },
				{ width: 1024, height: 576 },
				{ width: 1280, height: 720 },
				{ width: 1280, height: 768 },
				{ width: 1280, height: 800 },
				{ width: 1280, height: 900 },
				{ width: 1280, height: 1000 },
				{ width: 1920, height: 1080 },
				{ width: 1920, height: 1200 },
				{ width: 2560, height: 1440 },
				{ width: 3840, height: 2160 },
				{ width: 4096, height: 2160 }
			];

			Webcam.set({
				width: 640,
				height: 480,
				image_format: 'jpeg',
				flip_horiz: true,
				jpeg_quality: 90
			});
			Webcam.attach('#my_camera');
		</script>


		<div id="spinner" style="
		display:none;
		position:fixed;
		top:0; left:0; width:100vw; height:100vh;
		background:rgba(174, 174, 174, 0.7);
		z-index:9999;
		justify-content:center;
		align-items:center;
		text-align:center;
		">
			<div style="display:inline-block;">
				<img src="giphy.gif" alt="Loading...">
				<div style="margin-top:1em;">Processing...</div>
			</div>
		</div>

		<script>
			document.addEventListener("DOMContentLoaded", function () {
				document.getElementById('spinner').style.display = 'none';  // Hide spinner
			});
		</script>
		
		<script type="text/javascript" src="./script.js"></script>
</body>

</html>